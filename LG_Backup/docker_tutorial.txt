docker version
details about version
ps: process status

when we create a container[random id anme name is assinged when created]
1.to show the running docker containers 
docker ps

2. to show all containers running or stopped
docker ps -a

3. To pull an image from dockerhub[if the image does not exists in the local system] and run a container from the image
docker run docker/whalesay cowsay hello
docker run nginx

4. To only pull the image from docker hub (no running)
docker pull docker/whalesay

5. To stop the container [either <container-name> or <container-id> ]
docker stop <container-name>

6. To permanently delete any already exited container( so that it does not consume space)
docker rm <container-name>

7.To see list of images
docker images

8. To delete the images that we no longer plan on using
NOTE: No container of that image should be running (container must be stopped and removed first in order to delete the image)

docker rmi
Lesson 1:
run container from ubuntu image
docker run ubuntu

runs the container and exit immidiately. why?

unlike VM containers are not meant to host OS. Container are meant to run a specific task or process (web service, computation). Once the task completes
the container exits. When the process completes or crashes the container exits. Because ubuntu is an image of of OS that is used as base image of other application, no process is running in it by default.

one could instruct docker to run a process eg. sleep command
docker run ubuntu sleep 5
Execute a command by running the container

Lesson 2:
Execute a command on a already running container
docker exec <container_name> <command>

eg.
docker run ubuntu sleep 100 # the container will run for 100 sec
In this running container we will execute  a command to seee the content of the files

docker exec agitated_sutherland cat /etc/hosts  # print the content fo etc/host file

Lesson3:
when we use docker run , it runs in attach mode(foreground) i.e, atttached to the console or stdout of the container, we see the output of the webservice on the screen
it wont respond to inputs(stdin) until it stops. 

solution run in detached (backgorund) mode by provide -d option
docker run -d kodekloud/simple-webapp

to get attched to specific container use
docker attach <continer-name>
docker attch 41df #first few charecters of the container id will work

to run a specif version use tag
docker run image_name:tag_name
docker run  redis:4.0
if no tag is provided by default latest tag is pulled

Lesson 4:STDIN
Be default a docker container does not listen to a standard input (it's not able to read any input though attached to console, non interactive)
one must map standard input of the host to docker container by -i parameter
The application promts on the terminal [input("provide input"), scanf], output is on the console/stdout, input is on stdin .
to attch to containers terminal -t option,
the combination -it is used for interactive terminal

Lesson 5: PORT MAPPING:
how to access through we browser, map docker host port( accessible from outside) to port of docker container
one can multiple instance of the application and map them to different port of the docker host.
or can run multiple application and map them to different ports of the doker host
docker run -p 80:5000 kodekloud/simple-webapp 
you cant map to same port on docker host more than once
80==Docker host: accisible from outside
5000==internal ( accesible within docker host)
docker run -p 3306:3306 mysql (listens on default 3306)
docker run -p 8306:3306 mysql

Lesson 6: VOLUME MAPING
when data is created , it is stored inside /var/lib/mysql (mysql database)
The docker container has its own isolate file system inside container-->dump the date into the databse
when we stop the container , all data is deleted
To keep the data , we need to map the directory outside the container on the docker host to directory inside the cotainer

to do that we use -d option

docker run -v /opt/datadir:/var/lib/mysql mysql

this way when the docker container runs, it will implicity mount the external directory to a folder inside the container; will remain even if we dlete the conatainer

map /opt/datadir =outside the cntainer on the docker host
/var/lib/mysql: inside the container

Lesson 7:Inspect Container
To see additional detainl about a sepcific container
docker inspect <container_name>

returns a json with details

Lesson 7: Container Logs
to see the output written in stdout of the container (suppose we ran in a detatched mode)
docker logs <container_name>

Lesson 7: Environment variable
webapp written in python, Instead of fixed value inside of a .py code 
eg Color="red"
color= os.environ.get('APP_COLOR') #don't need to change the code
export APP_COLOR=blue; python app.py
once the application is packaged into a docker image
docker run -e APP_COLOR=bleu container_name
to find the ENV_variable set on a container already running
docker inspect <container_name> # under the config section ENV (env variables)

Lesson 8: Docker Image
why?
we couldn't find the image that already provides the servies we need or
for ease of shipping and deployment
containerize and web application 

Step1 : Create a Docker File with all the instructions

Step 2: once done buid image using build command

Docker build Dockerfile  -t abcapp/my-custom-app

abcapp/my-custom-app:  tag name of image
it will create a local copy of the image

Step 3: to make it publicly available
Docker push abcapp/my-custom-app











